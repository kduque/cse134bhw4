<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="description" content="bullion management site, rare coins, gold, silver, platinum">
    <meta name="author" content="CSE134B Dream Team">
    <link rel="stylesheet" type="text/css" href="./style/style.css">
    <meta name=viewport content="width=device-width, initial-scale=.8, minimum-scale = .8, user-scalable=yes">
    <link rel="icon" href="favicon.ico" type="image/x-icon" />
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />

    <script src="./js/jquery-1.11.2.min.js"></script>
    <script src="./js/velocity.min.js"></script>
    <script src="./js/main.js"></script>
    <script src='https://cdn.firebase.com/js/client/2.2.1/firebase.js'></script>
    <title>Settings - CoinFlip</title>
</head>

<body>
    <script type="text/javascript">
    loadTopNav();
    </script>
    <script type="text/javascript">
    loadSideNav(4);
    </script>
    <section class="main-section">
        <section class="coin_wrapper">
            <div class="mobile-nav">
                <a href="gold.html">
                    <svg class="icon icon-keyboard-arrow-left">
                        <symbol id="icon-keyboard-arrow-left" viewBox="0 0 1024 1024">
                            <title>keyboard-arrow-left</title>
                            <path class="path1" d="M657.707 696.96l-195.627-195.627 195.627-195.627-60.373-60.373-256 256 256 256z"></path>
                        </symbol>
                        <use xlink:href="#icon-keyboard-arrow-left"></use>
                    </svg>
                </a>
                ADD ITEM
            </div>
            <div class="coin_main">
                <div class="breadcrumb">
                    Change Email
                </div>
                <section id="welcomeMsg">
                </section>

                <section id="settings">

                    <form action="javascript:void(0);" onsubmit="changeEmail()">
                        <center>
                            <h3 id="notifMsg"></h3><br>
                            <input id="oldEmail" type="text" placeholder="Old Email Address"><br>
                            <input id="newEmail" type="text" placeholder="New Email Address"><br>
                            <input id="thePass" type="password" placeholder="Current Password">
                            <br>
                            <input type="submit" value="Submit">
                        </center>
                    </form>
                </section>
            </div>
        </section>
    </section>
    <script type="text/javascript">
    loadFooter();

    var ref = new Firebase("https://blazing-inferno-6462.firebaseio.com");
    
    function changeEmail(){
        ref.changeEmail({
              oldEmail : $("#oldEmail").val(),
              newEmail : $("#newEmail").val(),
              password : $("#thePass").val()
            }, function(error) {
              if (error === null) {
                $("#notifMsg").html("Email changed successfully");
                $("#notifMsg").css('color','green');
              } else {
                $("#notifMsg").html(error.message);
                $("#notifMsg").css('color','red');
              }
            });
    }

    </script>
</body>

</html>
